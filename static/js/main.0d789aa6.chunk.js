(this["webpackJsonpproject-five"]=this["webpackJsonpproject-five"]||[]).push([[0],{14:function(e,t,a){e.exports=a(24)},19:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(12),i=a.n(l),s=a(13),c=a(3),r=a(4),d=a(7),u=a(5),m=a(8),h=(a(19),a(6)),p=a.n(h);a(21),a(25);p.a.initializeApp({apiKey:"AIzaSyCjdQkJDOhBKPGulvr1a9rViGzoYcMjySA",authDomain:"project-five-1c3a4.firebaseapp.com",databaseURL:"https://project-five-1c3a4.firebaseio.com",projectId:"project-five-1c3a4",storageBucket:"project-five-1c3a4.appspot.com",messagingSenderId:"758428410845",appId:"1:758428410845:web:05dceab7554153b3114c34"});var g=p.a.storage(),v=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){var a=t.target.files[0];(e.setState({selectedFile:a}),"image/jpeg"===a.type||"image/jpg"===a.type||"image/png"===a.type||"image/gif"===a.type)?(p.a.database().ref().child("photos").push(a.name),g.ref(a.name).put(a).on("state_changed",(function(){p.a.database().ref().child("photos").on("value",(function(t){var a=t.val(),n=[],o=function(t){g.ref().child(a[t]).getDownloadURL().then((function(o){var l={photoId:t,photoName:a[t],photoUrl:o};n.push(l),e.setState({photosList:n})}))};for(var l in a)o(l)}))}),(function(e){alert("We could not upload your file at this time due to ".concat(e.code,". Please try again later."))}))):alert("Sorry! The file format you uploaded could not be processed. Only JPG, JPEG, PNG and GIF files are allowed.")},e.deletePhoto=function(t){p.a.database().ref().child("photos").child(t.target.id).remove();var a=0;e.state.photosList.forEach((function(e){t.target.name===e.photoName&&(a+=1)})),a<2&&g.ref().child(t.target.name).delete()},e.state={photosList:[],selectedFile:null},e}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.database().ref().child("photos").on("value",(function(t){var a=t.val(),n=[],o=function(t){g.ref().child(a[t]).getDownloadURL().then((function(o){var l={photoId:t,photoName:a[t],photoUrl:o};n.push(l),e.setState({photosList:n})}))};for(var l in a)o(l)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("section",{className:"photos wrapper",id:"photos"},o.a.createElement("input",{id:"fileUpload",type:"file",className:"customUpload visuallyHidden",tabIndex:"1",onChange:this.handleChange,accept:"image/*"}),o.a.createElement("label",{htmlFor:"fileUpload",className:"customUpload",title:"Upload photo"},o.a.createElement("span",{className:"visuallyHidden"},"Click here to upload an image"),"\u25b2"),o.a.createElement("ul",{className:"gallery"},this.state.photosList.map((function(t,a){return o.a.createElement("li",{key:a},o.a.createElement("div",{className:"titleBar"},o.a.createElement("button",{id:t.photoId,name:t.photoName,className:"delete",onClick:e.deletePhoto,title:"Delete photo",tabIndex:"0"},"X")),o.a.createElement("img",{src:t.photoUrl,alt:t.photoName}))}))))}}]),t}(n.Component),f=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).openDialog=function(){document.getElementById("dialog").setAttribute("open",!0),document.getElementById("dialog").classList.remove("visuallyHidden")},e.closeDialog=function(){document.getElementById("dialog").removeAttribute("open"),document.getElementById("dialog").classList.add("visuallyHidden"),document.getElementById("welcome").removeAttribute("open"),document.getElementById("welcome").classList.add("visuallyHidden"),document.getElementById("edit").removeAttribute("open"),document.getElementById("edit").classList.add("visuallyHidden")},e.toggleTheme=function(e){var t=p.a.database().ref().child("theme");!0===e.target.checked?(document.body.style.background="#8386de",t.push("lavender")):(document.body.style.background="url(./assets/corkBoard.jpg)",t.push("cork"))},e.handleChange=function(t){e.setState({userInput:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.userInput,n=p.a.database().ref().child("notes");""!==a?(n.push(a),e.setState({userInput:""})):alert("Sorry! Blank notes cannot be submitted.")},e.editNote=function(t){t.preventDefault(),document.getElementById("edit").setAttribute("open",!0),document.getElementById("edit").classList.remove("visuallyHidden"),e.setState({userInput:t.target.value,userID:t.target.id})},e.saveNote=function(t){t.preventDefault();var a=e.state.userInput;if(""!==a){e.setState({userInput:""}),document.getElementById("edit").removeAttribute("open"),document.getElementById("edit").classList.add("visuallyHidden"),p.a.database().ref("notes/"+e.state.userID).set(a);var n=Object(s.a)(e.state.notesList);n.forEach((function(t){t.noteId===e.state.userID&&(t.noteText=a,e.setState({notesList:n,userID:null}))}))}else alert("Sorry! Blank notes cannot be submitted.")},e.deleteNote=function(e){e.preventDefault(),p.a.database().ref().child("notes").child(e.target.id).remove()},e.state={notesList:[],userInput:"",userID:null},e}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.database().ref().child("notes").on("value",(function(t){var a=t.val(),n=[];for(var o in a){var l={noteId:o,noteText:a[o]};n.push(l)}e.setState({notesList:n})})),p.a.database().ref().child("theme").on("value",(function(e){var t=e.val(),a=0,n=0;for(var o in t)"lavender"===t[o]?a+=1:n+=1,a===n?(document.body.style.background="url(./assets/corkBoard.jpg)",document.getElementById("toggleTheme").checked=!1):(document.body.style.background="#8386de",document.getElementById("toggleTheme").checked=!0)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("main",null,o.a.createElement("label",{className:"switch",title:"Change theme"},o.a.createElement("span",{className:"visuallyHidden"},"Click here to change the theme"),o.a.createElement("input",{type:"checkbox",onChange:this.toggleTheme,id:"toggleTheme",tabIndex:"0",className:"visuallyHidden"}),o.a.createElement("span",{className:"slider"})),o.a.createElement("dialog",{id:"welcome",className:"welcome",open:!0},o.a.createElement("div",{className:"titleBar"},o.a.createElement("button",{id:"closeBtn",onClick:this.closeDialog,title:"Close window"},"X")),o.a.createElement("h1",null,"Welcome to QuickNotes!"),o.a.createElement("p",null,"QuickNotes is an application that allows you to save all your notes and photos in one convenient place."),o.a.createElement("p",null,"Choose one of the three buttons in the top right panel to get started:"),o.a.createElement("ul",null,o.a.createElement("li",null,"- Toggle the switch to change themes"),o.a.createElement("li",null,"- Click the triangle (\u25b2) to upload a photo"),o.a.createElement("li",null,"- Click the plus sign (+) to create a new note"),o.a.createElement("li",null,'- Click the "x" to delete an item and close the window'))),o.a.createElement("section",{className:"notes wrapper",id:"notes"},o.a.createElement("button",{type:"open",onClick:this.openDialog,title:"New note"},o.a.createElement("span",{className:"visuallyHidden"},"Click here to write a new note"),"+"),o.a.createElement("dialog",{id:"dialog",className:"newNote visuallyHidden"},o.a.createElement("form",null,o.a.createElement("div",{className:"titleBar"},o.a.createElement("button",{type:"button",id:"closeBtn",onClick:this.closeDialog,title:"Close window"},"X"),o.a.createElement("button",{type:"submit",title:"Submit note",onClick:this.handleSubmit},"Add Note +")),o.a.createElement("textarea",{type:"text",id:"noteText",rows:"7",cols:"16",onChange:this.handleChange,value:this.state.userInput}))),o.a.createElement("dialog",{id:"edit",className:"newNote visuallyHidden"},o.a.createElement("form",null,o.a.createElement("div",{className:"titleBar"},o.a.createElement("button",{type:"button",id:"closeBtn",onClick:this.closeDialog,title:"Close window"},"X"),o.a.createElement("button",{type:"submit",title:"Save note",onClick:this.saveNote},"Save Note +")),o.a.createElement("textarea",{type:"text",id:"noteText",rows:"7",cols:"16",onChange:this.handleChange,value:this.state.userInput}))),o.a.createElement("ul",{className:"notes"},this.state.notesList.map((function(t,a){return o.a.createElement("li",{key:a},o.a.createElement("div",{className:"titleBar"},o.a.createElement("button",{id:t.noteId,value:t.noteText,className:"edit",title:"Edit note",onClick:e.editNote},"\ud83d\udcdd Edit"),o.a.createElement("button",{id:t.noteId,className:"delete",onClick:e.deleteNote,title:"Delete note",tabIndex:"0"},"X")),o.a.createElement("textarea",{rows:"7",cols:"16",value:t.noteText,readOnly:!0}))})))),o.a.createElement(v,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.0d789aa6.chunk.js.map